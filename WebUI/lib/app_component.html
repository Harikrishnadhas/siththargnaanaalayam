<header>
    <div id="sign-in" *ngIf="fbService.user == null">
        <button class="btn btn-outline-secondary btn-sm" (click)="fbService.signIn()">Google Sign In</button>
    </div>

    <div id="sign-out" *ngIf="fbService.user != null">
        <!--<img [src]="fbService.user?.photoURL" style="height:100px">
        <div id="user-name">{{fbService.user?.displayName}}</div>-->
        <button (click)="fbService.signOut()">Sign Out</button>
    </div>
</header>
<div id="content" [hidden]="fbService.user == null">
    <material-fab mini raised
                  (trigger)="showAddPeople = true">
        <glyph icon="person_add" class="darkorange"></glyph>
    </material-fab>

    <material-list>
        <material-list-item *ngFor="let people of fbService.peoples; let idx = index">

            <div class="name">
                {{idx + 1}}.{{people.name}}
            </div>

            <div class="address">
                <div>{{people.address.city}}</div>
                <div>{{people.address.district}}</div>
                <div>{{people.address.state}}</div>
            </div>
            <div>
                <glyph icon="call" size="medium"></glyph>
                +91 {{people.address.mobile_no}}
            </div>
            <!--<div>
                <glyph icon="man"></glyph>
                {{people.father_name}}
            </div>-->
            <div class="material-list-item-secondary">
                <material-button icon
                              (trigger)="updatePeople(people)">
                    <glyph icon="edit"></glyph>
                </material-button>
                <!--<material-fab mini
                              raised
                              (trigger)="fbService.removePeople(people)">
                    <glyph icon="remove"></glyph>
                </material-fab>-->
            </div>
        </material-list-item>
    </material-list>

    <modal [(visible)]="showAddPeople">
        <material-dialog headered>
            <div header>
                <h3>
                    <div *ngIf="modalPeople.key != null">
                        Updating {{gettingUpdated?.name}}
                    </div>
                    <div *ngIf="modalPeople.key == null">
                        Add new People
                    </div>
                </h3>
            </div>

            <div>
                <material-input autoFocus
                                required
                                floatingLabel
                                label="Name"
                                [(ngModel)]="modalPeople.name">
                </material-input>

                <material-input floatingLabel
                                label="Father Name"
                                [(ngModel)]="modalPeople.father_name">
                </material-input>

                <material-input floatingLabel
                                label="Mother Name"
                                [(ngModel)]="modalPeople.mother_name">
                </material-input>

                <material-radio-group [(selected)]="modalPeople.sex">
                    <material-radio [value]="1">
                        Male
                    </material-radio>
                    <material-radio [value]="0">
                        Female
                    </material-radio>
                </material-radio-group>
            </div>
            <div>
                <material-input floatingLabel
                                label="Date of Birth"
                                [(ngModel)]="modalPeople.DOB">
                </material-input>

                <!--<input type="date" placeholder="Date of Birth" [(ngModel)]="modalPeople.DOB" />-->
                <material-input type="number"
                                floatingLabel
                                label="Age"
                                [(ngModel)]="modalPeople.age">
                </material-input>

                <material-input floatingLabel
                                label="Occupation"
                                [(ngModel)]="modalPeople.occupation">
                </material-input>
            </div>
            <hr/>
            <div>
                <material-input floatingLabel
                                label="Door #"
                                [(ngModel)]="modalPeople.address.door_no">
                </material-input>

                <material-input floatingLabel
                                label="Building Name"
                                [(ngModel)]="modalPeople.address.building_name">
                </material-input>

                <material-input floatingLabel
                                label="Street Name"
                                [(ngModel)]="modalPeople.address.street_name">
                </material-input>
            </div>
            <div>
                <material-input floatingLabel
                                label="City"
                                [(ngModel)]="modalPeople.address.city">
                </material-input>

                <material-input floatingLabel
                                label="Village"
                                [(ngModel)]="modalPeople.address.village">
                </material-input>

                <material-input floatingLabel
                                label="Town"
                                [(ngModel)]="modalPeople.address.town">
                </material-input>

                <material-input floatingLabel
                                label="Post Office"
                                [(ngModel)]="modalPeople.address.post_office">
                </material-input>
            </div>
            <div>
                <material-input floatingLabel
                                label="District"
                                [(ngModel)]="modalPeople.address.district">
                </material-input>

                <material-input floatingLabel
                                label="State"
                                [(ngModel)]="modalPeople.address.state">
                </material-input>

                <material-input floatingLabel
                                label="Country"
                                [(ngModel)]="modalPeople.address.country">
                </material-input>


                <material-input type="number"
                                required
                                floatingLabel
                                label="Postal Code"
                                [(ngModel)]="modalPeople.address.postal_code"
                                [rightAlign]="true">
                </material-input>
            </div>
            <div>
                <material-input type="email"
                                required
                                floatingLabel
                                label="Email"
                                [(ngModel)]="modalPeople.address.email">
                </material-input>

                <material-input type="number"
                                required
                                floatingLabel
                                label="Mobile Number"
                                [(ngModel)]="modalPeople.address.mobile_no"
                                leadingText="+91">
                </material-input>

                <material-input type="number"
                                floatingLabel
                                label="Phone Number"
                                [(ngModel)]="modalPeople.address.phone_no"
                                leadingText="+91">
                </material-input>
            </div>
            <div footer>
                <material-button class="white"
                                 (trigger)="addOrUpdatePeople()"
                                 [disabled]="modalPeople.name?.isEmpty">
                    Save
                </material-button>
                <material-button class="white"
                                 (trigger)="cancelEditing()">
                    Cancel
                </material-button>
            </div>

        </material-dialog>
    </modal>
</div>